{% extends "::vueMere.html.twig" %}

{% block contenuCentral %}
{# Contient la liste des étudiants avec leurs CCF ... #}
<div style="margin-top:18px;"> <!-- pour descendre le contenu de x pixels -->
<div class="panel panel-default">
    <div class="panel-heading">
        <h3> Planning des oraux </h3> 
        <!-- bouton de filtrage qui affiche CCF oral ou ecrit -->
        <div class="row">
            <div class="col-lg-2 col-lg-offset-10">
                <div class="btn-group">
                    <button type="button" class="btn btn-primary dropdown-toggle dropdown pull-right" style="width:140px" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >
                    Filtrer <span class="caret"></span>
                    </button>
                        <ul class="dropdown-menu pull-right" style="width:150px" >
                            {% for promoCourante in tabPromos %}
                                <li role="presentation"><a href="{{ path('btsappli_CCF_planningOrauxPromo', {'idPromo':promoCourante.id}) }}" role="menuitem">
                                        Promotion {{promoCourante.anneePromo}}
                                </a></li>
                            {% endfor %}
                            <li role="separator" class="divider"></li>
                            <li role="presentation"><a href="{{ path('btsappli_CCF_planningOrauxMatiere', {'matiere':e5})}}" role="menuitem">Matière E5</a></li>
                            <li role="presentation"><a href="{{ path('btsappli_CCF_planningOrauxMatiere', {'matiere':e42})}}" role="menuitem">Matière E42 </a></li>
                        </ul>
                </div>
            </div>
        </div>
    </div>
      
    <!-- Création du tableau contenant la liste des étudiants et leurs CCF -->
    <div class="table-responsive">
        <table class="table table-striped table-hover">
           <thead>
                <!-- Création de la première ligne contenant le nom de chaque colonne principale -->
                <tr align="center">
                    <td class="warning"></td> 
                    <td class="warning">Etudiants</td> 
                    <td class="warning"></td>
    
                    <td class="success"></td>
                    <td class="success">Oraux</td>
                    <td class="success"></td>
                    <td class="success"></td>
                </tr>
                <!-- Création de la première ligne contenant le nom de chaque colonne secondaire -->
                <tr class="info " align="center">
                    <td>Nom</td>
                    <td>Prénom</td>
                    <td>Promotion</td>
                
                    <td>Matière</td>
                    <td>Date</td>
                    <td>Heure</td>
                    <td>Salle</td>
                </tr>
            </thead>
            <!-- Affichage de tous des CCF par étudiants -->
            {% for userCourant in tabUsers %}  
                {% if userCourant.oraux is not empty %}
                    {% for oralCourant in userCourant.oraux %}
                        <tr align="center">
                            <td>{{userCourant.nom}}</td>
                            <td>{{userCourant.prenom}}</td>
                            <td>{{userCourant.promotion.anneePromo}}</td>
                
                            <td>{{oralCourant.matiere}}</td>
                            <td>{{oralCourant.date|date("m/d/Y")}}</td>
                            <td>{{oralCourant.heure|date("H:i")}}</td>
                            <td>{{oralCourant.salle}}</td>
                        </tr>
                    {% endfor %}
                {% else %}
                    <tr align="center">
                        <td>{{userCourant.nom}}</td>
                        <td>{{userCourant.prenom}}</td>
                        <td>{{userCourant.promotion.anneePromo}}</td>
                        
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                {% endif %}
           {% endfor %} 
        </table>
    </div>
</div>
</div>

<div class="row">
        <div class="col-lg-1  col-lg-offset-2">
            <a href="{{ path('btsappli_utilisateurs_accueilAdmin') }}" role="button" class="btn btn-primary" type="button" style="width:140px">Retour</a>  <!--&nbsp; = espace-->
        </div>
    
        <div class="col-lg-1  col-lg-offset-2">
            <a href="#" role="button" onclick="javascript:window.print()" class="btn btn-primary" type="button" style="width:140px">Imprimer</a>  <!--&nbsp; = espace-->
        </div>
        <div class="col-lg-1 col-lg-offset-2">
            <a href="#" role="button" class="btn btn-primary" type="button" style="width:140px">Réinitialiser</a>  <!--&nbsp; = espace-->
        </div>
</div>


    <script src="resolve.js" type="text/javascript"></script>
{% endblock %}

